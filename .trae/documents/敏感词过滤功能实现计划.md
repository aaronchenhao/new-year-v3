# 敏感词过滤功能实现计划

## 问题分析
目前游戏客户端允许用户自由输入用户名和消息内容，但没有有效的敏感词过滤机制，可能导致用户输入脏话或违禁词。

## 解决方案
实现一个敏感词过滤功能，当检测到敏感词时，用`*`号代替，而不是完全阻止用户输入。

## 实现步骤

### 1. 创建敏感词过滤工具函数
- 在`constants.ts`中扩展`SENSITIVE_WORDS`列表，添加更全面的敏感词和违禁词
- 创建一个`filterSensitiveWords`函数，用于检测和替换敏感词
- 函数应支持大小写不敏感匹配，以及部分匹配

### 2. 修改用户名输入处理
- 在`handleUsernameSubmit`函数中，添加敏感词过滤逻辑
- 当用户输入用户名时，自动过滤敏感词并显示过滤后的结果

### 3. 修改消息输入处理
- 在`handleRelaySubmit`函数中，修改敏感词检测逻辑
- 当检测到敏感词时，不是阻止发送，而是用`*`号代替敏感词后再发送

### 4. 测试和优化
- 测试各种敏感词场景，确保过滤效果
- 优化过滤算法，确保性能和准确性

## 技术要点
- 使用正则表达式进行敏感词匹配，支持大小写不敏感
- 保持用户输入的原始长度，只替换敏感词部分
- 确保过滤功能对用户名和消息输入都有效
- 考虑敏感词的变体和变形，提高过滤准确性

## 预期效果
- 用户输入包含敏感词时，系统会自动用`*`号替换敏感词部分
- 替换后的内容会保持原始长度，不影响整体显示
- 用户可以正常提交输入，不会被完全阻止
- 系统能够处理各种类型的敏感词，包括脏话和违禁词