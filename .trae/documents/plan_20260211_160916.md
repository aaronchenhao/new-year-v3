# 图像大小压缩方案

## 问题分析
当前系统生成的海报图片每张大小约3M，用户认为文件过大，需要压缩图像大小。

## 解决方案
通过修改html2canvas的配置和生成方式，减小图片文件大小。

## 技术分析
当前使用html2canvas库生成海报图片，配置如下：
- scale: 1.5 (较高的缩放比例导致高分辨率)
- 默认生成PNG格式图片 (PNG格式文件较大)
- 没有设置质量参数

## 压缩方案

### 1. 降低canvas缩放比例
- 将 `scale` 从 1.5 降低到 1.0
- 这样可以减少图片的分辨率，从而减小文件大小

### 2. 更改图片格式为JPEG
- 将 `canvas.toDataURL('image/png')` 改为 `canvas.toDataURL('image/jpeg', 0.8)`
- JPEG格式比PNG格式文件小，质量参数0.8可以在保证图片质量的同时减小文件大小

### 3. 优化html2canvas配置
- 保持其他配置不变，确保生成效果
- 只修改与图片大小相关的配置

## 预期效果
通过以上修改，预计可以将图片大小从3M+减小到500KB左右，同时保持图片的清晰度和美观度。

## 技术实现
修改 `App.tsx` 文件中的 `handleGeneratePosters` 函数：
1. 调整html2canvas的scale参数
2. 修改canvas.toDataURL()方法，使用JPEG格式并设置质量参数

这样可以在不影响用户体验的情况下，显著减小图片文件大小。